---
language: "he"
title: "gRPC - איך מערכות ה-AI “מדברות” זו עם זו"
categories:
  - "תקשורת"
tags:
  - "gRPC"
  - "Protobuf"
previousPost: "what-to-do-after-profiling"
slug: "grpc-ai-communication"
---


# gRPC - איך מערכות ה-AI “מדברות” זו עם זו

כשאנחנו מריצים מודל ב-inference,
יש הרבה חלקים שעובדים יחד -
האפליקציה ששולחת בקשות,
המודל שמחשב תשובות,
והשרת שמתווך ביניהם.
אבל איך בכלל מתבצעת התקשורת הזאת?

התשובה: gRPC.

## מה זה בעצם gRPC?

gRPC (ראשי תיבות של Google Remote Procedure Call) הוא פרוטוקול תקשורת מהיר ויעיל,
שמאפשר לשירות אחד להריץ פונקציה שנמצאת על שרת אחר -
כאילו שניהם באותה תוכנה.

במקום להשתמש ב-REST ולשלוח בקשות טקסטואליות (JSON),
gRPC משתמש ב-פורמט בינארי קומפקטי שנקרא Protocol Buffers (Protobuf).
זה ההבדל המרכזי: gRPC לא נועד להיות קריא לבני אדם - אלא מהיר למכונה.

## אז למה הוא מהיר יותר?

1. HTTP/2 לעומת HTTP/1.1
ב-REST המסורתי (שמבוסס על HTTP/1.1), כל בקשה דורשת פתיחת חיבור חדש לשרת.
זה יוצר “פקק תנועה” כשיש הרבה בקשות - כל אחת מחכה לתורה.

gRPC לעומת זאת משתמש ב-HTTP/2,
שמאפשר כמה זרמים (streams) במקביל על אותו חיבור אחד.
כך אפשר לשלוח ולענות על כמה בקשות בו-זמנית בלי לפתוח אלפי סוקטים.
התוצאה: Latency נמוך בהרבה ו-Throughput גבוה תחת עומס.

2. Protobuf לעומת JSON
ב-REST המידע נשלח כ-JSON - פורמט טקסטואלי שקל לקרוא אבל כבד למחשב.
כל ערך צריך לעבור parsing למחרוזות, מספרים וכו'.

ב-gRPC הנתונים נשלחים כ-Protobuf,
שהוא פורמט בינארי דחוס עם מבנה מוגדר מראש.
השרת והלקוח “מסכימים” מראש על מבנה ההודעה (schema),
ולכן אין צורך לפרש כל פעם את השדות מחדש.

במילים פשוטות:
JSON = גמיש ונוח, אבל איטי.
Protobuf = קשיח ומהיר.

## ומה עם Streaming?

gRPC תומך גם ב-זרימת נתונים בזמן אמת (Streaming),
כך שהשרת לא חייב להמתין עד שכל הפלט מוכן -
הוא יכול להתחיל לשלוח טוקנים חלקיים כבר במהלך החישוב.
זה מה שמאפשר למודלים של שפה “לדבר” בזמן אמת.

## למה זה חשוב לעולם ה-Inference?

מערכות inference מטפלות באלפי בקשות בו-זמנית.
אם כל אחת מהן תעבור דרך REST רגיל - המערכת תיחנק.
gRPC מאפשר:

- חיסכון עצום בזמן תקשורת,
- הורדת עומס מה-CPU,
- ותמיכה בזרימה רציפה של תשובות מהמודל.

## סיכום

בעולם שבו כל מילישנייה משפיעה על חוויית המשתמש,
gRPC הוא השפה הסמויה שמאפשרת למערכות AI לדבר זו עם זו -
לאט פחות, ובצורה חכמה הרבה יותר.